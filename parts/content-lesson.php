<?php 
$svg = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.75 3.5C1.79167 3.5 1 4.29167 1 5.25V18.75C1 19.7083 1.79167 20.5 2.75 20.5H10.2812C10.625 21.0964 11.2604 21.5 12 21.5C12.7396 21.5 13.375 21.0964 13.7188 20.5H21.25C22.2083 20.5 23 19.7083 23 18.75V5.25C23 4.29167 22.2083 3.5 21.25 3.5H14C13.2083 3.5 12.5026 3.85156 12 4.39583C11.4974 3.85156 10.7917 3.5 10 3.5H2.75ZM2.75 5H10C10.6979 5 11.25 5.55208 11.25 6.25V19H2.75C2.60156 19 2.5 18.8984 2.5 18.75V5.25C2.5 5.10156 2.60156 5 2.75 5ZM14 5H21.25C21.3984 5 21.5 5.10156 21.5 5.25V18.75C21.5 18.8984 21.3984 19 21.25 19H12.75V6.25C12.75 5.55208 13.3021 5 14 5ZM4.75 7.75C4.47917 7.7474 4.22917 7.88802 4.09115 8.1224C3.95573 8.35677 3.95573 8.64323 4.09115 8.8776C4.22917 9.11198 4.47917 9.2526 4.75 9.25H9C9.27083 9.2526 9.52083 9.11198 9.65885 8.8776C9.79427 8.64323 9.79427 8.35677 9.65885 8.1224C9.52083 7.88802 9.27083 7.7474 9 7.75H4.75ZM15 7.75C14.7292 7.7474 14.4792 7.88802 14.3411 8.1224C14.2057 8.35677 14.2057 8.64323 14.3411 8.8776C14.4792 9.11198 14.7292 9.2526 15 9.25H19.25C19.5208 9.2526 19.7708 9.11198 19.9089 8.8776C20.0443 8.64323 20.0443 8.35677 19.9089 8.1224C19.7708 7.88802 19.5208 7.7474 19.25 7.75H15ZM4.75 11.25C4.47917 11.2474 4.22917 11.388 4.09115 11.6224C3.95573 11.8568 3.95573 12.1432 4.09115 12.3776C4.22917 12.612 4.47917 12.7526 4.75 12.75H9C9.27083 12.7526 9.52083 12.612 9.65885 12.3776C9.79427 12.1432 9.79427 11.8568 9.65885 11.6224C9.52083 11.388 9.27083 11.2474 9 11.25H4.75ZM15 11.25C14.7292 11.2474 14.4792 11.388 14.3411 11.6224C14.2057 11.8568 14.2057 12.1432 14.3411 12.3776C14.4792 12.612 14.7292 12.7526 15 12.75H19.25C19.5208 12.7526 19.7708 12.612 19.9089 12.3776C20.0443 12.1432 20.0443 11.8568 19.9089 11.6224C19.7708 11.388 19.5208 11.2474 19.25 11.25H15ZM4.75 14.75C4.47917 14.7474 4.22917 14.888 4.09115 15.1224C3.95573 15.3568 3.95573 15.6432 4.09115 15.8776C4.22917 16.112 4.47917 16.2526 4.75 16.25H9C9.27083 16.2526 9.52083 16.112 9.65885 15.8776C9.79427 15.6432 9.79427 15.3568 9.65885 15.1224C9.52083 14.888 9.27083 14.7474 9 14.75H4.75ZM15 14.75C14.7292 14.7474 14.4792 14.888 14.3411 15.1224C14.2057 15.3568 14.2057 15.6432 14.3411 15.8776C14.4792 16.112 14.7292 16.2526 15 16.25H18.25C18.5208 16.2526 18.7708 16.112 18.9089 15.8776C19.0443 15.6432 19.0443 15.3568 18.9089 15.1224C18.7708 14.888 18.5208 14.7474 18.25 14.75H15Z" fill="currentColor"/>
</svg>
'
?>
<article id="post-<?php the_ID(); ?>" <?php post_class('s-content s-content-card'); ?>>
    <div class="entry-pic entry-pic-card">
        <a href="<?php the_permalink(); ?>" title="Permalink to <?php the_title_attribute(); ?>">
            <?php
            $youtube = get_field('youtube', get_the_ID());
            if($youtube) {
                echo '<img src="https://img.youtube.com/vi/' . $youtube . '/maxresdefault.jpg" alt="">';
            }
            else {
                if (has_post_thumbnail()) {
                    the_post_thumbnail('medium_large');
                } else {
                    echo plant_placeholder('medium_large');
                }
            }
            ?>
        </a>
    </div>
    <div class="entry-info entry-info-card">
        <?php
        $tags_list = get_the_tag_list('', ' ');
        if ($tags_list) {
            echo '<div class="posted-cat _h -pill">' . $tags_list . '</div>';
        }
        ?>
        <?php the_title( sprintf( '<h2 class="entry-title"><a href="%s" rel="bookmark">', esc_url( get_permalink() ) ), '</a></h2>' ); ?>
        <div class="entry-more-course">
            <div class="author">
                <?php echo plant_author($s_author, get_the_author_meta('ID'), $s_shortcode); ?>
            </div>
            <div class="lesson">
                <div class="s-flex">
                    <?php echo $svg; ?>
                    <?php 
                        // count child post
                        $args = array(
                            'post_type' => 'course',
                            'post_parent' => get_the_ID(),
                            'post_status' => 'publish',
                            'posts_per_page' => -1,
                            'orderby' => 'menu_order',
                            'order' => 'ASC'
                        );
                        $child_query = new WP_Query($args);
                        $count = $child_query->post_count;
                        // if ($count) {
                            echo $count . ' บทเรียน';
                        // }
                    ?>
                </div>
            </div>
        </div>
    </div>
</article>